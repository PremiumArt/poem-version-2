import { useState } from 'react';
import { motion } from 'framer-motion';
import { PoetryCard } from '../PoetryCard';

export const ThemesPurposes = () => {
  const [expandedCard, setExpandedCard] = useState<string | null>(null);

  const poetryThemes = [
    {
      id: 'madh',
      title: 'المدح',
      description: 'تمجيد الخصال الحميدة للممدوح',
      details: `شعر المدح هو أحد أشهر أغراض الشعر العربي، وفيه يمدح الشاعر شخصاً ما، سواء كان حاكماً أو أميراً أو شخصية بارزة، مشيداً بخصاله الحميدة وصفاته النبيلة كالشجاعة والكرم والحلم وغيرها من الفضائل.

      ازدهر شعر المدح في العصر العباسي خاصة، حيث قدم شعراء مثل المتنبي وأبي تمام قصائد خالدة في مدح الخلفاء والأمراء.`,
      example: `إذا نلتَ منه الودَّ فالمالُ هيِّنٌ | وكلُّ الذي فوقَ الترابِ ترابُ`
    },
    {
      id: 'hija',
      title: 'الهجاء',
      description: 'انتقاد الخصوم وذكر عيوبهم',
      details: `الهجاء هو غرض شعري يهدف إلى ذم الخصوم وتسليط الضوء على عيوبهم ونقائصهم، سواء كانوا أفراداً أو قبائل أو جماعات. يستخدم الشاعر فيه ألفاظاً لاذعة وصوراً قاسية.

      كان الهجاء سلاحاً قوياً في العصر الجاهلي، حيث كان للشعراء دور مهم في الدفاع عن قبائلهم ومهاجمة أعدائهم. من أبرز شعراء الهجاء: جرير والفرزدق في نقائضهما الشهيرة.`,
      example: `فَلو كانَ حَيّاً لاِستَحَيتَ هِجاءَهُ | وَلَكِنَّ رَبَّ القَبرِ أَخزاكَ جاهِمُ`
    },
    {
      id: 'ritha',
      title: 'الرثاء',
      description: 'تأبين الميت وذكر مناقبه',
      details: `الرثاء هو غرض شعري يُقال في تأبين الميت والتعبير عن الحزن لفقده، وعادة ما يُذكر فيه مناقب المرثي وخصاله الحميدة، كما يتضمن التأمل في الموت والحياة.

      من أشهر قصائد الرثاء في الأدب العربي مرثية الخنساء لأخيها صخر، ومرثية مالك بن الريب لنفسه، ومرثية أبي العلاء المعري.`,
      example: `أَلا يا عَينُ فَانهَمِري بِغَدرِ | وَفيضي فَيضَ مُنهَمِرِ السِحابِ`
    },
    {
      id: 'ghazal',
      title: 'الغزل',
      description: 'التغني بجمال المحبوب ومشاعر الحب',
      details: `الغزل هو شعر المحبة والعشق، وينقسم إلى نوعين رئيسيين:

      1. الغزل العذري: وهو الغزل العفيف الذي يتغنى بالحب الروحي والمعنوي دون الجسدي، ويتميز بالعفة والطهارة والوفاء. من أشهر شعرائه: جميل بثينة، وقيس بن الملوح (مجنون ليلى).

      2. الغزل الصريح: وهو الذي يصف المفاتن الجسدية للمحبوبة بشكل مباشر. من أشهر شعرائه: عمر بن أبي ربيعة.`,
      example: `وَإِنِّي لَتَعْرُوني لِذِكْرَاكِ هِزَّةٌ | كَمَا انْتَفَضَ العُصْفُورُ بَلَّلَهُ القَطْرُ`
    },
    {
      id: 'fakhr',
      title: 'الفخر',
      description: 'الاعتزاز بالنفس والقبيلة وذكر المآثر',
      details: `الفخر هو غرض شعري يتحدث فيه الشاعر عن مفاخره ومفاخر قومه، مشيداً بشجاعته وكرمه ونسبه وحسبه، وكذلك مآثر قبيلته وانتصاراتها.

      كان الفخر شائعاً في العصر الجاهلي خاصة، حيث كانت القبيلة تمثل هوية الفرد ومصدر اعتزازه. من أشهر شعراء الفخر: عنترة بن شداد، وعمرو بن كلثوم في معلقته.`,
      example: `أنا ابنُ جلا وطلاعُ الثنايا | متى أضعِ العمامةَ تعرفوني`
    },
    {
      id: 'zuhd',
      title: 'الزهد',
      description: 'التأمل في الحياة والموت والترفع عن متاع الدنيا',
      details: `شعر الزهد هو الشعر الذي يدعو إلى الترفع عن متاع الدنيا وزينتها، والتأمل في الموت والحياة الآخرة، والاتجاه إلى العبادة والتقوى.

      ازدهر هذا اللون من الشعر في العصر العباسي خاصة، مع شعراء مثل أبي العتاهية وأبي نواس في زهدياته. كما برز في الأندلس مع ابن خفاجة وغيره.`,
      example: `تَعِبنا في الدنيا وما نلتذُّ فيها | ونفنى دائماً أبداً شَقينا`
    }
  ];

  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.15
      }
    }
  };

  return (
    <motion.div
      className="rounded-2xl p-6 shadow-lg"
      style={{ backgroundColor: '#615650' }}
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
    >
      <h2 className="text-2xl font-bold text-amber-200 mb-4">أغراض الشعر العربي</h2>
      <p className="text-amber-100/80 mb-6">
        تنوعت أغراض الشعر العربي عبر العصور، من الغزل والمدح إلى الرثاء والفخر والزهد وغيرها.
      </p>

      <motion.div 
        className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
        variants={containerVariants}
        initial="hidden"
        animate="visible"
      >
        {poetryThemes.map((theme) => (
          <PoetryCard
            key={theme.id}
            title={theme.title}
            description={theme.description}
            details={theme.details}
            example={theme.example}
            isExpanded={expandedCard === theme.id}
            onToggle={() => setExpandedCard(expandedCard === theme.id ? null : theme.id)}
          />
        ))}
      </motion.div>
    </motion.div>
  );
};